{"version":3,"sources":["panels/elements/Topic.js","panels/elements/Emotion.js","panels/screens/MapView.js","panels/screens/Main.js","App.js","index.js"],"names":["mainTopicWrapper","flexShrink","width","height","display","flexDirection","alignItems","fontSize","topicWrapper","position","cursor","topicImage","border","borderRadius","backgroundColor","textAlign","lineHeight","topicEmoji","topicTitle","marginTop","Topic","topic","handleTopic","style","className","onClick","id","data-status","status","symbol","emoji","name","emotionWrapper","topicEmotion","dropShadow","emotionEmoji","Emotion","emotion","handleEmotion","key","mapWrapper","MapView","useState","marks","changeMarks","topicsList","changeTopic","emotionsList","changeEmotion","useEffect","storedMarks","postLocation","WrapperMap","withScriptjs","withGoogleMap","defaultZoom","defaultCenter","lat","lng","map","post","properties","geometry","coordinates","icon","url","img_url","scaledSize","window","google","maps","Size","updateMap","topicFilter","filter","emotionFilter","newMarks","length","mark","topic_id","emotion_id","toggleTopic","newList","i","toggleEmotion","googleMapURL","loadingElement","containerElement","mapElement","level","marginLeft","marginBottom","weight","header","mode","paddingBottom","paddingLeft","Main","props","state","activeView","activePanel","this","React","Component","App","ReactDOM","render","document","getElementById"],"mappings":"gXAGMA,EAAmB,CACrBC,WAAY,EACZC,MAAO,GACPC,OAAQ,GACRC,QAAS,OACTC,cAAe,SACfC,WAAY,SACZC,SAAU,IAGRC,EAAe,CACjBC,SAAU,WACVL,QAAS,eACTM,OAAQ,WAGNC,EAAa,CACfT,MAAO,GACPC,OAAQ,GACRS,OAAQ,6BACRC,aAAc,GACdC,gBAAiB,OACjBL,SAAU,WACVM,UAAW,SACXC,WAAY,QAEVC,EAAa,CACfV,SAAU,IAGRW,EAAa,CACfX,SAAU,GACVQ,UAAW,SACXI,UAAW,GAsBAC,MAlBf,YAAwC,IAAvBC,EAAsB,EAAtBA,MAAOC,EAAe,EAAfA,YAMpB,OACI,yBAAKC,MAAOvB,GACR,yBAAKwB,UAAU,QAAQD,MAAOf,EAAciB,QANpD,WACIH,EAAYD,EAAMK,MAMV,yBAAKF,UAAU,cAAcG,cAAaN,EAAMO,OAAQL,MAAOZ,GAC3D,kBAAC,IAAD,CAAOkB,OAAQR,EAAMS,MAAOP,MAAON,KAEvC,yBAAKO,UAAU,cAAcD,MAAOL,GAAaG,EAAMU,SCjDjEC,EAAiB,CACnB/B,WAAY,EACZC,MAAO,GACPC,OAAQ,GACRC,QAAS,OACTC,cAAe,SACfC,WAAY,SACZC,SAAU,IAGR0B,EAAe,CACjB/B,MAAO,GACPC,OAAQ,GACRS,OAAQ,8BACRC,aAAc,GACdqB,WAAY,+BACZnB,UAAW,SACXC,WAAY,OACZF,gBAAiB,OACjBJ,OAAQ,WAENyB,EAAe,CACjB5B,SAAU,IA2BC6B,MAtBf,YAA8C,IAA3BC,EAA0B,EAA1BA,QAASC,EAAiB,EAAjBA,cAMxB,OACI,yBAAKC,IAAKF,EAAQX,GAAIH,MAAOS,EAAgBP,QALjD,WACIa,EAAcD,EAAQX,MAKlB,yBACIF,UAAU,UACVG,cAAaU,EAAQT,OACrBL,MAAOU,GAEP,kBAAC,IAAD,CACIJ,OAAQQ,EAAQP,MAChBP,MAAOY,O,QCrCrBK,EAAa,CACfrC,OAAQ,SAsMGsC,MAlMf,WAAoB,IAAD,EACcC,mBAAS,IADvB,mBACRC,EADQ,KACDC,EADC,OAEmBF,mBAAS,CACvC,CACI,GAAM,UACN,MAAS,KACT,KAAQ,KACR,MAAS,eACT,OAAU,IAEd,CACI,GAAM,UACN,MAAS,QACT,KAAQ,mDACR,MAAS,eACT,OAAU,IAEd,CACI,GAAM,UACN,MAAS,OACT,KAAQ,uCACR,MAAS,eACT,OAAU,IAEd,CACI,GAAM,UACN,MAAS,QACT,KAAQ,2BACR,MAAS,eACT,OAAU,IAEd,CACI,GAAM,UACN,MAAS,OACT,KAAQ,iCACR,MAAS,eACT,OAAU,IAEd,CACI,GAAM,UACN,MAAS,SACT,KAAQ,2BACR,MAAS,eACT,OAAU,MA3CH,mBAERG,EAFQ,KAEIC,EAFJ,OA8CuBJ,mBAAS,CAC3C,CACI,GAAM,YACN,MAAS,MACT,MAAS,eACT,OAAU,IAEd,CACI,GAAM,YACN,MAAS,MACT,MAAS,qBACT,OAAU,IAEd,CACI,GAAM,YACN,MAAS,QACT,MAAS,eACT,OAAU,IAEd,CACI,GAAM,YACN,MAAS,OACT,MAAS,eACT,OAAU,MArEH,mBA8CRK,EA9CQ,KA8CMC,EA9CN,KAyEfC,qBAAU,WACN,IAAMC,EAAcC,IACpBP,EAAYM,KAEb,IAyBH,IAAME,EAAaC,uBAAaC,yBAvBhC,WAEI,OACI,kBAAC,YAAD,CACIC,YAAa,GACbC,cAAe,CAAEC,IAAK,MAAOC,IAAK,QAEjCf,EAAMgB,KAAI,SAAAC,GAAI,OACX,kBAAC,SAAD,CACIrB,IAAKqB,EAAKC,WAAWnC,GACrBjB,SAAU,CACNgD,IAAKG,EAAKE,SAASC,YAAY,GAC/BL,IAAKE,EAAKE,SAASC,YAAY,IAEnCC,KAAM,CACFC,IAAKL,EAAKC,WAAWK,QACrBC,WAAY,IAAIC,OAAOC,OAAOC,KAAKC,KAAK,IAAK,gBASrE,SAASC,IACL,IAAMC,EAAc5B,EAAW6B,QAAO,SAAArD,GAAK,MAAqB,aAAjBA,EAAMO,UAC/C+C,EAAgB5B,EAAa2B,QAAO,SAAArC,GAAO,MAAuB,aAAnBA,EAAQT,UAKzDgD,EAAQ,YAAOzB,KAEfsB,EAAYI,SACZD,EAAWA,EAASF,QAAO,SAAAI,GAAI,OAAIA,EAAKjB,WAAWkB,WAAaN,EAAY,GAAG/C,OAE/EiD,EAAcE,SACdD,EAAWA,EAASF,QAAO,SAAAI,GAAI,OAAIA,EAAKjB,WAAWmB,aAAeL,EAAc,GAAGjD,OAGvFkB,EAAYgC,GAKhB,SAASK,EAAYF,GAEjB,IADA,IAAMG,EAAO,YAAOrC,GACXsC,EAAI,EAAGA,EAAID,EAAQL,OAAQM,IAC5BD,EAAQC,GAAGzD,KAAOqD,EACbG,EAAQC,GAAGvD,OAGZsD,EAAQC,GAAGvD,OAAS,GAFpBsD,EAAQC,GAAGvD,OAAS,WAKxBsD,EAAQC,GAAGvD,OAAS,GAG5BkB,EAAYoC,GACZV,IAEJ,SAASY,EAAcJ,GAEnB,IADA,IAAME,EAAO,YAAOnC,GACXoC,EAAI,EAAGA,EAAID,EAAQL,OAAQM,IAC5BD,EAAQC,GAAGzD,KAAOsD,EACbE,EAAQC,GAAGvD,OAGZsD,EAAQC,GAAGvD,OAAS,GAFpBsD,EAAQC,GAAGvD,OAAS,WAKxBsD,EAAQC,GAAGvD,OAAS,GAG5BoB,EAAckC,GACdV,IAGJ,OACI,yBAAKhD,UAAU,oBACX,yBAAKD,MAAOiB,GACR,kBAACY,EAAD,CACIiC,aAAY,sFACZC,eAAgB,yBAAK/D,MAAO,CAACpB,OAAQ,UACrCoF,iBAAkB,yBAAKhE,MAAO,CAACpB,OAAQ,UACvCqF,WAAY,yBAAKjE,MAAO,CAACpB,OAAQ,aAGzC,yBAAKqB,UAAU,6BACX,kBAAC,IAAD,CAAOiE,MAAM,IAAIlE,MAAO,CAACJ,UAAW,GAAIuE,WAAY,GAAIC,aAAc,IAAKC,OAAO,YAAlF,wJACA,kBAAC,IAAD,MACA,kBAAC,IAAD,CAAOC,OAAQ,kBAAC,IAAD,CAAQC,KAAK,aAAb,6BACX,kBAAC,IAAD,KACI,yBAAKvE,MAAO,CAAEnB,QAAS,SAClByC,EAAWc,KAAI,SAAAtC,GACZ,OAAO,kBAAC,EAAD,CAAOkB,IAAKlB,EAAMK,GAAIL,MAAOA,EAAOC,YAAa2D,UAKxE,kBAAC,IAAD,CAAO1D,MAAO,CAAEwE,cAAe,GAAKF,OAAQ,kBAAC,IAAD,CAAQC,KAAK,aAAb,iEACxC,kBAAC,IAAD,CAAkBvE,MAAO,CAACyE,YAAa,IACnC,yBAAKzE,MAAO,CAAEnB,QAAS,SAClB2C,EAAaY,KAAI,SAAAtB,GACd,OAAO,kBAAC,EAAD,CAASE,IAAKF,EAAQX,GAAIW,QAASA,EAASC,cAAe8C,aCvKnFa,E,kDAtBX,WAAYC,GAAQ,IAAD,8BACf,cAAMA,IAEDC,MAAQ,CACTC,WAAY,QACZC,YAAa,OALF,E,qDAUf,OACI,kBAAC,IAAD,CAAMD,WAAYE,KAAKH,MAAMC,YACzB,kBAAC,IAAD,CAAMC,YAAaC,KAAKH,MAAME,YAAa3E,GAAG,SAC1C,kBAAC,IAAD,CAAOA,GAAG,OACN,kBAAC,EAAD,a,GAfL6E,IAAMC,WCIVC,MANf,WACE,OACI,kBAAC,EAAD,OCFNC,IAASC,OACL,kBAAC,EAAD,MACAC,SAASC,eAAe,U","file":"static/js/main.49728044.chunk.js","sourcesContent":["import React from 'react';\nimport Emoji from 'a11y-react-emoji'\n\nconst mainTopicWrapper = {\n    flexShrink: 0,\n    width: 76,\n    height: 76,\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    fontSize: 12,\n};\n\nconst topicWrapper = {\n    position: 'relative',\n    display: 'inline-block',\n    cursor: 'pointer'\n};\n\nconst topicImage = {\n    width: 48,\n    height: 48,\n    border: '.5px solid rgba(0,0,0,.14)',\n    borderRadius: 48,\n    backgroundColor: '#fff',\n    position: 'relative',\n    textAlign: 'center',\n    lineHeight: '48px'\n};\nconst topicEmoji = {\n    fontSize: 24,\n}\n\nconst topicTitle = {\n    fontSize: 12,\n    textAlign: 'center',\n    marginTop: 5\n};\n\n\nfunction Topic({ topic, handleTopic }) {\n\n    function handleTopicClick() {\n        handleTopic(topic.id);\n    }\n\n    return (\n        <div style={mainTopicWrapper}>\n            <div className='topic' style={topicWrapper} onClick={handleTopicClick}>\n                <div className='topic-image' data-status={topic.status} style={topicImage}>\n                    <Emoji symbol={topic.emoji} style={topicEmoji} />\n                </div>\n                <div className='topic-title' style={topicTitle}>{topic.name}</div>\n            </div>\n        </div>\n    );\n}\n\nexport default Topic;","import React from 'react';\nimport Emoji from 'a11y-react-emoji'\n\nconst emotionWrapper = {\n    flexShrink: 0,\n    width: 40,\n    height: 46,\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    fontSize: 12,\n}\n\nconst topicEmotion = {\n    width: 30,\n    height: 30,\n    border: '.5px solid rgba(0,0,0,0.05)',\n    borderRadius: 30,\n    dropShadow: '0 2px 4px 0 rgba(0,0,0,0.08)',\n    textAlign: 'center',\n    lineHeight: '30px',\n    backgroundColor: '#fff',\n    cursor: 'pointer'\n};\nconst emotionEmoji = {\n    fontSize: 26,\n}\n\n\n\nfunction Emotion({ emotion, handleEmotion }) {\n\n    function handleEmotionClick() {\n        handleEmotion(emotion.id);\n    }\n\n    return (\n        <div key={emotion.id} style={emotionWrapper} onClick={handleEmotionClick}>\n            <div\n                className='emotion'\n                data-status={emotion.status}\n                style={topicEmotion}\n            >\n                <Emoji\n                    symbol={emotion.emoji}\n                    style={emotionEmoji}\n                />\n            </div>\n        </div>\n    );\n}\n\nexport default Emotion;\n","import React, { useState, useEffect } from 'react';\nimport { HorizontalScroll, Group, Header, Title, Separator } from '@vkontakte/vkui';\nimport { GoogleMap, withScriptjs, withGoogleMap, Marker  } from 'react-google-maps';\n\nimport Topic from '../elements/Topic';\nimport Emotion from '../elements/Emotion';\nimport * as postLocation from '../../data/post-locations.json'\n\nconst mapWrapper = {\n    height: '100vh',\n}\n\n\nfunction MapView() {\n    const [marks, changeMarks] = useState([]);\n    const [topicsList, changeTopic] = useState([\n        {\n            \"id\": \"topic_1\",\n            \"title\": \"it\",\n            \"name\": \"IT\",\n            \"emoji\": \"üíª\",\n            \"status\": \"\"\n        },\n        {\n            \"id\": \"topic_2\",\n            \"title\": \"covid\",\n            \"name\": \"–ö–∞—Ä–∞–Ω—Ç–∏–Ω\",\n            \"emoji\": \"üò∑\",\n            \"status\": \"\"\n        },\n        {\n            \"id\": \"topic_3\",\n            \"title\": \"road\",\n            \"name\": \"–î–æ—Ä–æ–≥–∞\",\n            \"emoji\": \"üöò\",\n            \"status\": \"\"\n        },\n        {\n            \"id\": \"topic_4\",\n            \"title\": \"movie\",\n            \"name\": \"–ö–∏–Ω–æ\",\n            \"emoji\": \"üçø\",\n            \"status\": \"\"\n        },\n        {\n            \"id\": \"topic_5\",\n            \"title\": \"fall\",\n            \"name\": \"–û—Å–µ–Ω—å\",\n            \"emoji\": \"üçÇ\",\n            \"status\": \"\"\n        },\n        {\n            \"id\": \"topic_6\",\n            \"title\": \"office\",\n            \"name\": \"–û—Ñ–∏—Å\",\n            \"emoji\": \"üëî\",\n            \"status\": \"\"\n        }\n    ]);\n    const [emotionsList, changeEmotion] = useState([\n        {\n            \"id\": \"emotion_1\",\n            \"title\": \"fun\",\n            \"emoji\": \"üòÄ\",\n            \"status\": \"\"\n        },\n        {\n            \"id\": \"emotion_2\",\n            \"title\": \"sad\",\n            \"emoji\": \"üôÅÔ∏è\",\n            \"status\": \"\"\n        },\n        {\n            \"id\": \"emotion_3\",\n            \"title\": \"angry\",\n            \"emoji\": \"üò°\",\n            \"status\": \"\"\n        },\n        {\n            \"id\": \"emotion_4\",\n            \"title\": \"work\",\n            \"emoji\": \"ü§ì\",\n            \"status\": \"\"\n        }\n    ]);\n\n    useEffect(() => {\n        const storedMarks = postLocation.features;\n        changeMarks(storedMarks);\n        // Map(marks);\n    }, [])\n\n    function Map() {\n        // console.log(marks);\n        return (\n            <GoogleMap\n                defaultZoom={10}\n                defaultCenter={{ lat: 55.72, lng: 37.57 }}\n            >\n                {marks.map(post => (\n                    <Marker\n                        key={post.properties.id}\n                        position={{\n                            lat: post.geometry.coordinates[0],\n                            lng: post.geometry.coordinates[1]\n                        }}\n                        icon={{\n                            url: post.properties.img_url,\n                            scaledSize: new window.google.maps.Size(100, 100)\n                        }}\n                    />\n                ))}\n            </GoogleMap>\n        );\n    }\n    const WrapperMap = withScriptjs(withGoogleMap(Map));\n\n    function updateMap() {\n        const topicFilter = topicsList.filter(topic => topic.status === 'selected');\n        const emotionFilter = emotionsList.filter(emotion => emotion.status === 'selected');\n\n        // console.log(topicFilter);\n        // console.log(emotionFilter);\n\n        let newMarks = [...postLocation.features];\n\n        if (topicFilter.length) {\n            newMarks = newMarks.filter(mark => mark.properties.topic_id === topicFilter[0].id);\n        }\n        if (emotionFilter.length) {\n            newMarks = newMarks.filter(mark => mark.properties.emotion_id === emotionFilter[0].id);\n        }\n\n        changeMarks(newMarks);\n\n        // console.log(newMarks);\n    }\n\n    function toggleTopic(topic_id) {\n        const newList = [...topicsList]\n        for (let i = 0; i < newList.length; i++) {\n            if (newList[i].id === topic_id) {\n                if (!newList[i].status) {\n                    newList[i].status = \"selected\";\n                } else {\n                    newList[i].status = \"\";\n                }\n            } else {\n                newList[i].status = \"\";\n            }\n        }\n        changeTopic(newList);\n        updateMap();\n    }\n    function toggleEmotion(emotion_id) {\n        const newList = [...emotionsList]\n        for (let i = 0; i < newList.length; i++) {\n            if (newList[i].id === emotion_id) {\n                if (!newList[i].status) {\n                    newList[i].status = \"selected\";\n                } else {\n                    newList[i].status = \"\";\n                }\n            } else {\n                newList[i].status = \"\";\n            }\n        }\n        changeEmotion(newList);\n        updateMap();\n    }\n\n    return (\n        <div className='main-map-wrapper'>\n            <div style={mapWrapper}>\n                <WrapperMap\n                    googleMapURL={`https://maps.googleapis.com/maps/api/js?key=AIzaSyAZLBZNBgq2sUtAuq5zoxp799VSVPETVbE`}\n                    loadingElement={<div style={{height: '100%'}} />}\n                    containerElement={<div style={{height: '100%'}} />}\n                    mapElement={<div style={{height: '100%'}} />}\n                />\n            </div>\n            <div className='emotions-selector-wrapper'>\n                <Title level=\"3\" style={{marginTop: 20, marginLeft: 12, marginBottom: 18}} weight=\"semibold\">–ü–æ–∏—Å–∫ –ø–æ —Ç–µ–º–µ –∏–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—é</Title>\n                <Separator />\n                <Group header={<Header mode=\"secondary\">–¢–µ–º–∞</Header>}>\n                    <HorizontalScroll>\n                        <div style={{ display: 'flex' }}>\n                            {topicsList.map(topic => {\n                                return <Topic key={topic.id} topic={topic} handleTopic={toggleTopic} />\n                            })}\n                        </div>\n                    </HorizontalScroll>\n                </Group>\n                <Group style={{ paddingBottom: 8 }} header={<Header mode=\"secondary\">–ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ</Header>}>\n                    <HorizontalScroll style={{paddingLeft: 6}}>\n                        <div style={{ display: 'flex' }}>\n                            {emotionsList.map(emotion => {\n                                return <Emotion key={emotion.id} emotion={emotion} handleEmotion={toggleEmotion} />\n                            })}\n                        </div>\n                    </HorizontalScroll>\n                </Group>\n            </div>\n        </div>\n    );\n}\n\nexport default MapView;\n","import React from 'react';\nimport {Root, View, Panel} from '@vkontakte/vkui'\nimport '@vkontakte/vkui/dist/vkui.css';\nimport '../../assets/style.css'\n\nimport MapView from './MapView'\n\nclass Main extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            activeView: 'start',\n            activePanel: 'map',\n        }\n    }\n\n    render() {\n        return (\n            <Root activeView={this.state.activeView}>\n                <View activePanel={this.state.activePanel} id='start'>\n                    <Panel id='map'>\n                        <MapView />\n                    </Panel>\n                </View>\n            </Root>\n        )\n    }\n}\n\nexport default Main;","import React from 'react';\nimport '@vkontakte/vkui/dist/vkui.css';\n\nimport Main from './panels/screens/Main'\n\nfunction App() {\n  return (\n      <Main />\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}