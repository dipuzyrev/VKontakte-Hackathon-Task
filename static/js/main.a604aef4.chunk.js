(this["webpackJsonpvk-hack-emotions-web"]=this["webpackJsonpvk-hack-emotions-web"]||[]).push([[0],{235:function(e,t,i){e.exports=i(447)},240:function(e,t,i){},250:function(e,t,i){},447:function(e,t,i){"use strict";i.r(t);var o=i(0),a=i.n(o),n=i(66),r=i.n(n),s=(i(240),i(101),i(157)),c=i(158),l=i(163),m=i(162),p=i(15),d=(i(250),i(71)),u=i(72),g=i(45),h=i(68),f=i.n(h),y={flexShrink:0,width:76,height:76,display:"flex",flexDirection:"column",alignItems:"center",fontSize:12},v={position:"relative",display:"inline-block",cursor:"pointer"},_={width:48,height:48,border:".5px solid rgba(0,0,0,.14)",borderRadius:48,backgroundColor:"#fff",position:"relative",textAlign:"center",lineHeight:"48px"},b={fontSize:24},E={fontSize:12,textAlign:"center",marginTop:5};var k=function(e){var t=e.topic,i=e.handleTopic;return a.a.createElement("div",{style:y},a.a.createElement("div",{className:"topic",style:v,onClick:function(){i(t.id)}},a.a.createElement("div",{className:"topic-image","data-status":t.status,style:_},a.a.createElement(f.a,{symbol:t.emoji,style:b})),a.a.createElement("div",{className:"topic-title",style:E},t.name)))},j={flexShrink:0,width:40,height:46,display:"flex",flexDirection:"column",alignItems:"center",fontSize:12},w={width:30,height:30,border:".5px solid rgba(0,0,0,0.05)",borderRadius:30,dropShadow:"0 2px 4px 0 rgba(0,0,0,0.08)",textAlign:"center",lineHeight:"30px",backgroundColor:"#fff",cursor:"pointer"},x={fontSize:26};var O=function(e){var t=e.emotion,i=e.handleEmotion;return a.a.createElement("div",{key:t.id,style:j,onClick:function(){i(t.id)}},a.a.createElement("div",{className:"emotion","data-status":t.status,style:w},a.a.createElement(f.a,{symbol:t.emoji,style:x})))},S=i(99),z={height:"100vh"};var P=function(){var e=Object(o.useState)([]),t=Object(u.a)(e,2),i=t[0],n=t[1],r=Object(o.useState)([{id:"topic_1",title:"it",name:"IT",emoji:"\ud83d\udcbb",status:""},{id:"topic_2",title:"covid",name:"\u041a\u0430\u0440\u0430\u043d\u0442\u0438\u043d",emoji:"\ud83d\ude37",status:""},{id:"topic_3",title:"road",name:"\u0414\u043e\u0440\u043e\u0433\u0430",emoji:"\ud83d\ude98",status:""},{id:"topic_4",title:"movie",name:"\u041a\u0438\u043d\u043e",emoji:"\ud83c\udf7f",status:""},{id:"topic_5",title:"fall",name:"\u041e\u0441\u0435\u043d\u044c",emoji:"\ud83c\udf42",status:""},{id:"topic_6",title:"office",name:"\u041e\u0444\u0438\u0441",emoji:"\ud83d\udc54",status:""}]),s=Object(u.a)(r,2),c=s[0],l=s[1],m=Object(o.useState)([{id:"emotion_1",title:"fun",emoji:"\ud83d\ude00",status:""},{id:"emotion_2",title:"sad",emoji:"\ud83d\ude41\ufe0f",status:""},{id:"emotion_3",title:"angry",emoji:"\ud83d\ude21",status:""},{id:"emotion_4",title:"work",emoji:"\ud83e\udd13",status:""}]),h=Object(u.a)(m,2),f=h[0],y=h[1];Object(o.useEffect)((function(){var e=S.a;n(e)}),[]);var v=Object(g.withScriptjs)(Object(g.withGoogleMap)((function(){return a.a.createElement(g.GoogleMap,{defaultZoom:10,defaultCenter:{lat:55.72,lng:37.57}},i.map((function(e){return a.a.createElement(g.Marker,{key:e.properties.id,position:{lat:e.geometry.coordinates[0],lng:e.geometry.coordinates[1]},icon:{url:e.properties.img_url,scaledSize:new window.google.maps.Size(100,100)}})})))})));function _(){var e=c.filter((function(e){return"selected"===e.status})),t=f.filter((function(e){return"selected"===e.status})),i=Object(d.a)(S.a);e.length&&(i=i.filter((function(t){return t.properties.topic_id===e[0].id}))),t.length&&(i=i.filter((function(e){return e.properties.emotion_id===t[0].id}))),n(i)}function b(e){for(var t=Object(d.a)(c),i=0;i<t.length;i++)t[i].id===e?t[i].status?t[i].status="":t[i].status="selected":t[i].status="";l(t),_()}function E(e){for(var t=Object(d.a)(f),i=0;i<t.length;i++)t[i].id===e?t[i].status?t[i].status="":t[i].status="selected":t[i].status="";y(t),_()}return a.a.createElement("div",{className:"main-map-wrapper"},a.a.createElement("div",{style:z},a.a.createElement(v,{googleMapURL:"https://maps.googleapis.com/maps/api/js?key=AIzaSyAZLBZNBgq2sUtAuq5zoxp799VSVPETVbE",loadingElement:a.a.createElement("div",{style:{height:"100%"}}),containerElement:a.a.createElement("div",{style:{height:"100%"}}),mapElement:a.a.createElement("div",{style:{height:"100%"}})})),a.a.createElement("div",{className:"emotions-selector-wrapper"},a.a.createElement(p.g,{level:"3",style:{marginTop:20,marginLeft:12,marginBottom:18},weight:"semibold"},"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u0442\u0435\u043c\u0435 \u0438\u043b\u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043d\u0438\u044e"),a.a.createElement(p.f,null),a.a.createElement(p.a,{header:a.a.createElement(p.b,{mode:"secondary"},"\u0422\u0435\u043c\u0430")},a.a.createElement(p.c,null,a.a.createElement("div",{style:{display:"flex"}},c.map((function(e){return a.a.createElement(k,{key:e.id,topic:e,handleTopic:b})}))))),a.a.createElement(p.a,{style:{paddingBottom:8},header:a.a.createElement(p.b,{mode:"secondary"},"\u041d\u0430\u0441\u0442\u0440\u043e\u0435\u043d\u0438\u0435")},a.a.createElement(p.c,{style:{paddingLeft:6}},a.a.createElement("div",{style:{display:"flex"}},f.map((function(e){return a.a.createElement(O,{key:e.id,emotion:e,handleEmotion:E})})))))))},N=function(e){Object(l.a)(i,e);var t=Object(m.a)(i);function i(e){var o;return Object(s.a)(this,i),(o=t.call(this,e)).state={activeView:"start",activePanel:"map"},o}return Object(c.a)(i,[{key:"render",value:function(){return a.a.createElement(p.e,{activeView:this.state.activeView},a.a.createElement(p.h,{activePanel:this.state.activePanel,id:"start"},a.a.createElement(p.d,{id:"map"},a.a.createElement(P,null))))}}]),i}(a.a.Component);var A=function(){return a.a.createElement(N,null)};r.a.render(a.a.createElement(A,null),document.getElementById("root"))},99:function(e){e.exports=JSON.parse('{"a":[{"type":"Feature","properties":{"id":"post_1","emotion_id":"emotion_1","topic_id":"topic_1","img_url":"https://puzyrevdmi.github.io/vk-hack-emotions-web/icons/1.png"},"geometry":{"type":"Point","coordinates":[55.65,37.6]}},{"type":"Feature","properties":{"id":"post_2","emotion_id":"emotion_2","topic_id":"topic_2","img_url":"https://puzyrevdmi.github.io/vk-hack-emotions-web/icons/2.png"},"geometry":{"type":"Point","coordinates":[55.9,37.59]}},{"type":"Feature","properties":{"id":"post_3","emotion_id":"emotion_3","topic_id":"topic_3","img_url":"https://puzyrevdmi.github.io/vk-hack-emotions-web/icons/3.png"},"geometry":{"type":"Point","coordinates":[55.75,37.64]}},{"type":"Feature","properties":{"id":"post_4","emotion_id":"emotion_1","topic_id":"topic_4","img_url":"https://puzyrevdmi.github.io/vk-hack-emotions-web/icons/4.png"},"geometry":{"type":"Point","coordinates":[55.7,37.55]}},{"type":"Feature","properties":{"id":"post_5","emotion_id":"emotion_2","topic_id":"topic_5","img_url":"https://puzyrevdmi.github.io/vk-hack-emotions-web/icons/5.png"},"geometry":{"type":"Point","coordinates":[55.86,37.72]}},{"type":"Feature","properties":{"id":"post_6","emotion_id":"emotion_4","topic_id":"topic_6","img_url":"https://puzyrevdmi.github.io/vk-hack-emotions-web/icons/6.png"},"geometry":{"type":"Point","coordinates":[55.82,37.45]}}]}')}},[[235,1,2]]]);
//# sourceMappingURL=main.a604aef4.chunk.js.map