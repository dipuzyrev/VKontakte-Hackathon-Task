(this["webpackJsonpvk-hack-emotions-web"]=this["webpackJsonpvk-hack-emotions-web"]||[]).push([[0],{235:function(e,t,i){e.exports=i(447)},240:function(e,t,i){},250:function(e,t,i){},447:function(e,t,i){"use strict";i.r(t);var a=i(0),o=i.n(a),n=i(66),r=i.n(n),c=(i(240),i(101),i(157)),s=i(158),l=i(163),m=i(162),p=i(15),d=(i(250),i(71)),u=i(72),g=i(45),f=i(68),y=i.n(f),h={flexShrink:0,width:76,height:76,display:"flex",flexDirection:"column",alignItems:"center",fontSize:12},_={position:"relative",display:"inline-block",cursor:"pointer"},v={width:48,height:48,border:".5px solid rgba(0,0,0,.14)",borderRadius:48,backgroundColor:"#fff",position:"relative",textAlign:"center",lineHeight:"48px"},E={fontSize:24},b={fontSize:12,textAlign:"center",marginTop:5};var j=function(e){var t=e.topic,i=e.handleTopic;return o.a.createElement("div",{style:h},o.a.createElement("div",{className:"topic",style:_,onClick:function(){i(t.id)}},o.a.createElement("div",{className:"topic-image","data-status":t.status,style:v},o.a.createElement(y.a,{symbol:t.emoji,style:E})),o.a.createElement("div",{className:"topic-title",style:b},t.name)))},k={flexShrink:0,width:40,height:46,display:"flex",flexDirection:"column",alignItems:"center",fontSize:12},w={width:30,height:30,border:".5px solid rgba(0,0,0,0.05)",borderRadius:30,dropShadow:"0 2px 4px 0 rgba(0,0,0,0.08)",textAlign:"center",lineHeight:"30px",backgroundColor:"#fff",cursor:"pointer"},x={fontSize:26};var O=function(e){var t=e.emotion,i=e.handleEmotion;return o.a.createElement("div",{key:t.id,style:k,onClick:function(){i(t.id)}},o.a.createElement("div",{className:"emotion","data-status":t.status,style:w},o.a.createElement(y.a,{symbol:t.emoji,style:x})))},S=i(99),P={height:"100vh"};var z=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),i=t[0],n=t[1],r=Object(a.useState)([{id:"topic_1",title:"it",name:"IT",emoji:"\ud83d\udcbb",status:""},{id:"topic_2",title:"covid",name:"\u041a\u0430\u0440\u0430\u043d\u0442\u0438\u043d",emoji:"\ud83d\ude37",status:""},{id:"topic_3",title:"road",name:"\u0414\u043e\u0440\u043e\u0433\u0430",emoji:"\ud83d\ude98",status:""},{id:"topic_4",title:"movie",name:"\u041a\u0438\u043d\u043e",emoji:"\ud83c\udf7f",status:""},{id:"topic_5",title:"fall",name:"\u041e\u0441\u0435\u043d\u044c",emoji:"\ud83c\udf42",status:""},{id:"topic_6",title:"office",name:"\u041e\u0444\u0438\u0441",emoji:"\ud83d\udc54",status:""}]),c=Object(u.a)(r,2),s=c[0],l=c[1],m=Object(a.useState)([{id:"emotion_1",title:"fun",emoji:"\ud83d\ude00",status:""},{id:"emotion_2",title:"sad",emoji:"\ud83d\ude41\ufe0f",status:""},{id:"emotion_3",title:"angry",emoji:"\ud83d\ude21",status:""},{id:"emotion_4",title:"work",emoji:"\ud83e\udd13",status:""}]),f=Object(u.a)(m,2),y=f[0],h=f[1];Object(a.useEffect)((function(){var e=S.a;n(e)}),[]);var _=Object(g.withScriptjs)(Object(g.withGoogleMap)((function(){return o.a.createElement(g.GoogleMap,{defaultZoom:10,defaultCenter:{lat:55.72,lng:37.57}},i.map((function(e){return o.a.createElement(g.Marker,{key:e.properties.id,position:{lat:e.geometry.coordinates[0],lng:e.geometry.coordinates[1]},icon:{url:e.properties.img_url,scaledSize:new window.google.maps.Size(100,100)}})})))})));function v(){var e=s.filter((function(e){return"selected"===e.status})),t=y.filter((function(e){return"selected"===e.status})),i=Object(d.a)(S.a);e.length&&(i=i.filter((function(t){return t.properties.topic_id===e[0].id}))),t.length&&(i=i.filter((function(e){return e.properties.emotion_id===t[0].id}))),n(i)}function E(e){for(var t=Object(d.a)(s),i=0;i<t.length;i++)t[i].id===e?t[i].status?t[i].status="":t[i].status="selected":t[i].status="";l(t),v()}function b(e){for(var t=Object(d.a)(y),i=0;i<t.length;i++)t[i].id===e?t[i].status?t[i].status="":t[i].status="selected":t[i].status="";h(t),v()}return o.a.createElement("div",{className:"main-map-wrapper"},o.a.createElement("div",{style:P},o.a.createElement(_,{googleMapURL:"https://maps.googleapis.com/maps/api/js?key=AIzaSyAZLBZNBgq2sUtAuq5zoxp799VSVPETVbE",loadingElement:o.a.createElement("div",{style:{height:"100%"}}),containerElement:o.a.createElement("div",{style:{height:"100%"}}),mapElement:o.a.createElement("div",{style:{height:"100%"}})})),o.a.createElement("div",{className:"emotions-selector-wrapper"},o.a.createElement(p.g,{level:"3",style:{marginTop:20,marginLeft:12,marginBottom:18},weight:"semibold"},"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u0442\u0435\u043c\u0435 \u0438\u043b\u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043d\u0438\u044e"),o.a.createElement(p.f,null),o.a.createElement(p.a,{header:o.a.createElement(p.b,{mode:"secondary"},"\u0422\u0435\u043c\u0430")},o.a.createElement(p.c,null,o.a.createElement("div",{style:{display:"flex"}},s.map((function(e){return o.a.createElement(j,{key:e.id,topic:e,handleTopic:E})}))))),o.a.createElement(p.a,{style:{paddingBottom:8},header:o.a.createElement(p.b,{mode:"secondary"},"\u041d\u0430\u0441\u0442\u0440\u043e\u0435\u043d\u0438\u0435")},o.a.createElement(p.c,{style:{paddingLeft:6}},o.a.createElement("div",{style:{display:"flex"}},y.map((function(e){return o.a.createElement(O,{key:e.id,emotion:e,handleEmotion:b})})))))))},N=function(e){Object(l.a)(i,e);var t=Object(m.a)(i);function i(e){var a;return Object(c.a)(this,i),(a=t.call(this,e)).state={activeView:"start",activePanel:"map"},a}return Object(s.a)(i,[{key:"render",value:function(){return o.a.createElement(p.e,{activeView:this.state.activeView},o.a.createElement(p.h,{activePanel:this.state.activePanel,id:"start"},o.a.createElement(p.d,{id:"map"},o.a.createElement(z,null))))}}]),i}(o.a.Component);var A=function(){return o.a.createElement(N,null)};r.a.render(o.a.createElement(A,null),document.getElementById("root"))},99:function(e){e.exports=JSON.parse('{"a":[{"type":"Feature","properties":{"id":"post_1","emotion_id":"emotion_1","topic_id":"topic_1","img_url":"/icons/1.png"},"geometry":{"type":"Point","coordinates":[55.65,37.6]}},{"type":"Feature","properties":{"id":"post_2","emotion_id":"emotion_2","topic_id":"topic_2","img_url":"/icons/2.png"},"geometry":{"type":"Point","coordinates":[55.9,37.59]}},{"type":"Feature","properties":{"id":"post_3","emotion_id":"emotion_3","topic_id":"topic_3","img_url":"/icons/3.png"},"geometry":{"type":"Point","coordinates":[55.75,37.64]}},{"type":"Feature","properties":{"id":"post_4","emotion_id":"emotion_1","topic_id":"topic_4","img_url":"/icons/4.png"},"geometry":{"type":"Point","coordinates":[55.7,37.55]}},{"type":"Feature","properties":{"id":"post_5","emotion_id":"emotion_2","topic_id":"topic_5","img_url":"/icons/5.png"},"geometry":{"type":"Point","coordinates":[55.86,37.72]}},{"type":"Feature","properties":{"id":"post_6","emotion_id":"emotion_4","topic_id":"topic_6","img_url":"/icons/6.png"},"geometry":{"type":"Point","coordinates":[55.82,37.45]}}]}')}},[[235,1,2]]]);
//# sourceMappingURL=main.a7ab0bec.chunk.js.map